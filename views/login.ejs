<!-- Trang đăng nhập -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>DKD - Electronics eCommerce</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico" />

    <!-- CSS 
    ========================= -->

    <!-- Plugins CSS -->
    <link rel="stylesheet" href="/stylesheets/plugins.css" />

    <!-- Main Style CSS -->
    <link rel="stylesheet" href="/stylesheets/style.css" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Add Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Add FontAwesome CSS (for icons) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">

    <!-- Add Bootstrap JS (including Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


  </head>
  <body>
    <!-- Include header component -->
    <%- include('./components/header.ejs') %>

    <!--breadcrumbs area start-->
    <div class="breadcrumbs_area">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <div class="breadcrumb_content">
              <ul>
                <li><a href="index.html">home</a></li>
                <li>My account</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--breadcrumbs area end-->

    <!-- customer login start -->
    <div class="customer_login mt-60">
      <div class="container">
        <div class="row">
          <!--login area start-->
          <div class="col-lg-6 col-md-6">
            <div class="account_form">
              <h2>login</h2>
              <form action="/login/signIn" method="POST">
                <p>
                    <label>Username or Email <span>*</span></label>
                    <input type="text" name="usernameOrEmail" 
                    value="<%= oldDataFormSignIn && oldDataFormSignIn.usernameOrEmail ? oldDataFormSignIn.usernameOrEmail : '' %>"
                    required />
                </p>
                <p>
                    <label>Password <span>*</span></label>
                    <input type="password" name="password" 
                    value="<%= oldDataFormSignIn && oldDataFormSignIn.password ? oldDataFormSignIn.password : '' %>"
                    required />
                </p>
                <%
                  if(errorSign && errorSign.code != ''){
                    %>
                    <div class="text-danger fw-bold">Error validate: <%=errorSign.msg%></div>
                    <%
                  }
                %>
                <div class="login_submit">
                    <a href="/forgortpassword">Forgot password?</a>
                    <button type="submit">Log in</button>
                </div>
            </form>            
            </div>
          </div>
          <!--login area start-->

          <!--register area start-->
          <div class="col-lg-6 col-md-6">
            <div class="account_form register">
              <h2>Register</h2>
              <%
                var username = ''; 
                var phoneNumber = ''; 
                var email = ''; 
                var password = ''; 
                var repassword = ''; 

                if(userInf){
                  username = userInf.username;
                  phoneNumber = userInf.phoneNumber;
                  email = userInf.email;

                  if(oldDataFormRegister){
                    username = oldDataFormRegister.username;
                    phoneNumber = oldDataFormRegister.phoneNumber;
                    email = oldDataFormRegister.email;
                    password = oldDataFormRegister.password; 
                    repassword = oldDataFormRegister.repassword; 
                  } 
                  %>
                  <form action="/login/register" method="POST">
                    <p>
                      <label>Username <span>*</span></label>
                      <input type="text" name="username" value = "<%=username%>" placeholder="<%=username%>"/>
                    </p>
                    <p>
                      <label>Phone number <span>*</span></label>
                      <input type="text" name="phoneNumber" value = "<%=phoneNumber%>" placeholder="<%=phoneNumber%>"/>
                    </p>
                    <p>
                      <label>Email address <span>*</span></label>
                      <input type="text" name="email" value = "<%=email%>" placeholder="<%=email%>"/>
                    </p>
                    <p>
                      <label>Passwords <span>*</span></label>
                      <input type="password" name="password" value = "<%=password%>" placeholder="<%=password%>"/>
                    </p>
                    <p>
                      <label>Confirm Passwords <span>*</span></label>
                      <input type="password" name="repassword" value = "<%=repassword%>" placeholder="<%=repassword%>"/>
                    </p>
                    <%
                        if(errorRegister && errorRegister.length > 0){
                          %>
                          <div class="text-danger fw-bold">Error validate: <%=errorRegister[0]%></div>
                          <%
                        }
                      %>
                    <div class="login_submit">
                      <button type="submit">Register</button>
                    </div>
                  </form>
                  <%
                }
              %>
            </div>
          </div>
          <!--register area end-->
        </div>
      </div>
    </div>
    <!-- customer login end -->

    <!-- Include footer component -->
    <%- include('./components/footer.ejs') %>

    <!-- Plugins JS -->
    <script src="/javascripts/plugins.js"></script>

    <!-- Main JS -->
    <script src="/javascripts/index.js"></script>
  </body>
</html>
